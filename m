Return-Path: <linux-kernel+bounces-576709-lists+linux-kernel=lfdr.de@vger.kernel.org>
X-Original-To: lists+linux-kernel@lfdr.de
Delivered-To: lists+linux-kernel@lfdr.de
Received: from sv.mirrors.kernel.org (sv.mirrors.kernel.org [IPv6:2604:1380:45e3:2400::1])
	by mail.lfdr.de (Postfix) with ESMTPS id 9C130A71364
	for <lists+linux-kernel@lfdr.de>; Wed, 26 Mar 2025 10:13:08 +0100 (CET)
Received: from smtp.subspace.kernel.org (relay.kernel.org [52.25.139.140])
	(using TLSv1.2 with cipher ECDHE-ECDSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by sv.mirrors.kernel.org (Postfix) with ESMTPS id 4A5ED3B72A1
	for <lists+linux-kernel@lfdr.de>; Wed, 26 Mar 2025 09:12:54 +0000 (UTC)
Received: from localhost.localdomain (localhost.localdomain [127.0.0.1])
	by smtp.subspace.kernel.org (Postfix) with ESMTP id BEB901A7AF7;
	Wed, 26 Mar 2025 09:13:02 +0000 (UTC)
Authentication-Results: smtp.subspace.kernel.org;
	dkim=pass (2048-bit key) header.d=kernel.org header.i=@kernel.org header.b="KO4GxINV"
Received: from smtp.kernel.org (aws-us-west-2-korg-mail-1.web.codeaurora.org [10.30.226.201])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by smtp.subspace.kernel.org (Postfix) with ESMTPS id 2758817A2F8;
	Wed, 26 Mar 2025 09:13:01 +0000 (UTC)
Authentication-Results: smtp.subspace.kernel.org; arc=none smtp.client-ip=10.30.226.201
ARC-Seal:i=1; a=rsa-sha256; d=subspace.kernel.org; s=arc-20240116;
	t=1742980382; cv=none; b=mNobakUzCe6VeKL5WjrZyp6M1/LNJd4CVXEdfr9Truw0Gnjoft/IeObXSpAMczIuRgW0JRCiXx58sXBGOrF8zoNEcapSe+WNKROZWxCtbVWqmJLvZkjIwarlMKBuStjr/wfb/coT3If59BEw5qoYudmSG13BOmCaLfyiVLJA+Hs=
ARC-Message-Signature:i=1; a=rsa-sha256; d=subspace.kernel.org;
	s=arc-20240116; t=1742980382; c=relaxed/simple;
	bh=aN+g0071I7Vt/PENJP2xKw1ev/MOlfvCtYEPMiSMFoo=;
	h=Date:Message-ID:From:To:Cc:Subject:In-Reply-To:References:
	 MIME-Version:Content-Type; b=irouq8/UuoZFd1kKS2fgw+nKub3f/QbD8T/aXsZ/VkhAzBRrLmigY698/dg1FG50znGuY6DALVYHvlDDEu1+iwu1nPsLvgnpJvBO4t8e0UwzIVsZOP9NnxbCYwLy+lhwwPJ9R0dXNJyeldsaws19e61i9faYJJzfltnyb9TBrzU=
ARC-Authentication-Results:i=1; smtp.subspace.kernel.org; dkim=pass (2048-bit key) header.d=kernel.org header.i=@kernel.org header.b=KO4GxINV; arc=none smtp.client-ip=10.30.226.201
Received: by smtp.kernel.org (Postfix) with ESMTPSA id A119EC4CEE2;
	Wed, 26 Mar 2025 09:13:01 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=kernel.org;
	s=k20201202; t=1742980381;
	bh=aN+g0071I7Vt/PENJP2xKw1ev/MOlfvCtYEPMiSMFoo=;
	h=Date:From:To:Cc:Subject:In-Reply-To:References:From;
	b=KO4GxINV6olNF2UQXuKkU8PE7klKPjHGZdg2MCcNmhwRPQWiGhojXXelfplsWVCi+
	 AM9jbm6mLHrSoRMiDVMT7lMk/u4nAD0eRkb32dhblMEll6b/F0/n1KumF+aeY3y0s3
	 OneulYbDcLOrIjrwP+JJRIpN7Sn7xkLXqM/3DvbVzq4hEe0XgcesrU3psE3OUe6wBP
	 pm/l64u3LGqEdzkZ0p0+LieV00X7THRVODBGW+vRK6jzmvs/sonuyGcUgEjsQBParA
	 d7RxtjIu8b5r9gvi+O4JYO7lDvRoLkNFN4HJMXm05vh42ep74Rj00961kpa78jfY14
	 ExyrBH2W51E/g==
Received: from sofa.misterjones.org ([185.219.108.64] helo=goblin-girl.misterjones.org)
	by disco-boy.misterjones.org with esmtpsa  (TLS1.3) tls TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384
	(Exim 4.95)
	(envelope-from <maz@kernel.org>)
	id 1txMol-00HEBK-5u;
	Wed, 26 Mar 2025 09:12:59 +0000
Date: Wed, 26 Mar 2025 09:12:58 +0000
Message-ID: <861pukm9yd.wl-maz@kernel.org>
From: Marc Zyngier <maz@kernel.org>
To: Peter Chen <peter.chen@cixtech.com>
Cc: soc@kernel.org,
	robh@kernel.org,
	krzk+dt@kernel.org,
	conor+dt@kernel.org,
	catalin.marinas@arm.com,
	will@kernel.org,
	arnd@arndb.de,
	linux-arm-kernel@lists.infradead.org,
	devicetree@vger.kernel.org,
	linux-kernel@vger.kernel.org,
	cix-kernel-upstream@cixtech.com,
	marcin@juszkiewicz.com.pl,
	kajetan.puchalski@arm.com,
	Krzysztof Kozlowski <krzysztof.kozlowski@linaro.org>,
	Fugang Duan <fugang.duan@cixtech.com>
Subject: Re: [PATCH v5 5/6] arm64: dts: cix: add initial CIX P1(SKY1) dts support
In-Reply-To: <Z-Nz0DU441Wwj1i4@nchen-desktop>
References: <20250324062420.360289-1-peter.chen@cixtech.com>
	<20250324062420.360289-6-peter.chen@cixtech.com>
	<865xjxmlgl.wl-maz@kernel.org>
	<Z-Nz0DU441Wwj1i4@nchen-desktop>
User-Agent: Wanderlust/2.15.9 (Almost Unreal) SEMI-EPG/1.14.7 (Harue)
 FLIM-LB/1.14.9 (=?UTF-8?B?R29qxY0=?=) APEL-LB/10.8 EasyPG/1.0.0 Emacs/29.4
 (aarch64-unknown-linux-gnu) MULE/6.0 (HANACHIRUSATO)
Precedence: bulk
X-Mailing-List: linux-kernel@vger.kernel.org
List-Id: <linux-kernel.vger.kernel.org>
List-Subscribe: <mailto:linux-kernel+subscribe@vger.kernel.org>
List-Unsubscribe: <mailto:linux-kernel+unsubscribe@vger.kernel.org>
MIME-Version: 1.0 (generated by SEMI-EPG 1.14.7 - "Harue")
Content-Type: text/plain; charset=US-ASCII
X-SA-Exim-Connect-IP: 185.219.108.64
X-SA-Exim-Rcpt-To: peter.chen@cixtech.com, soc@kernel.org, robh@kernel.org, krzk+dt@kernel.org, conor+dt@kernel.org, catalin.marinas@arm.com, will@kernel.org, arnd@arndb.de, linux-arm-kernel@lists.infradead.org, devicetree@vger.kernel.org, linux-kernel@vger.kernel.org, cix-kernel-upstream@cixtech.com, marcin@juszkiewicz.com.pl, kajetan.puchalski@arm.com, krzysztof.kozlowski@linaro.org, fugang.duan@cixtech.com
X-SA-Exim-Mail-From: maz@kernel.org
X-SA-Exim-Scanned: No (on disco-boy.misterjones.org); SAEximRunCond expanded to false

On Wed, 26 Mar 2025 03:26:08 +0000,
Peter Chen <peter.chen@cixtech.com> wrote:
> 
> On 25-03-25 10:52:10, Marc Zyngier wrote:
> > > +     timer {
> > > +             compatible = "arm,armv8-timer";
> > > +             interrupt-names = "sec-phys", "phys", "virt", "hyp-phys", "hyp-virt";
> > > +             interrupts = <GIC_PPI 13 IRQ_TYPE_LEVEL_LOW 0>,
> > > +                          <GIC_PPI 14 IRQ_TYPE_LEVEL_LOW 0>,
> > > +                          <GIC_PPI 11 IRQ_TYPE_LEVEL_LOW 0>,
> > > +                          <GIC_PPI 10 IRQ_TYPE_LEVEL_LOW 0>,
> > > +                          <GIC_PPI 12 IRQ_TYPE_LEVEL_LOW 0>;
> > > +     };
> > > +};
> > 
> > I don't think there is anything wrong here, but it is also a pretty
> > useless DT. There isn't even a UART to interact with the machine and
> > find out whether it has actually booted.
> > 
> 
> UEFI uses the same UART, so we could see all kernel boot logs until
> switch to use kernel UART driver for printk. If you would like boot
> to the console at initramfs, just add uart node like patchset v1.

What's the point in upstreaming something that requires extra changes
just to boot it? It only outlines these patches are not useful as they
stand.

>
> > I reckon this should be part of the initial DT, as this otherwise
> > serves little purpose.
> > 
> 
> Without this initial support, we can't add some base drivers, like
> mailbox. The dt_binding_check will report warnings/errors [1].

Of course you can. You just add additional patches to this series,
making it something that is actually useful. So far, this series only
serves as marketing material.

> Full UART support depends on clock, clock control needs mailbox
> to talk with FW using SCMI protocol.

Then do it. You obviously have existing DT support for it already.

> There is no any support for CIX SoC, so we had to add one small step by
> step.

No, you are deliberately choosing to make this platform useless.

That's a bit sad, and a waste of everybody's time.

	M.

-- 
Without deviation from the norm, progress is not possible.


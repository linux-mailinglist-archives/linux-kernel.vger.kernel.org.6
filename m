Return-Path: <linux-kernel+bounces-364496-lists+linux-kernel=lfdr.de@vger.kernel.org>
X-Original-To: lists+linux-kernel@lfdr.de
Delivered-To: lists+linux-kernel@lfdr.de
Received: from am.mirrors.kernel.org (am.mirrors.kernel.org [147.75.80.249])
	by mail.lfdr.de (Postfix) with ESMTPS id 96AB199D558
	for <lists+linux-kernel@lfdr.de>; Mon, 14 Oct 2024 19:11:03 +0200 (CEST)
Received: from smtp.subspace.kernel.org (wormhole.subspace.kernel.org [52.25.139.140])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by am.mirrors.kernel.org (Postfix) with ESMTPS id 4E0F21F252A2
	for <lists+linux-kernel@lfdr.de>; Mon, 14 Oct 2024 17:11:03 +0000 (UTC)
Received: from localhost.localdomain (localhost.localdomain [127.0.0.1])
	by smtp.subspace.kernel.org (Postfix) with ESMTP id 433791C233E;
	Mon, 14 Oct 2024 17:10:48 +0000 (UTC)
Authentication-Results: smtp.subspace.kernel.org;
	dkim=pass (1024-bit key) header.d=gentwo.org header.i=@gentwo.org header.b="TZUXH4ff"
Received: from gentwo.org (gentwo.org [62.72.0.81])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by smtp.subspace.kernel.org (Postfix) with ESMTPS id 3DA1212CD8B
	for <linux-kernel@vger.kernel.org>; Mon, 14 Oct 2024 17:10:46 +0000 (UTC)
Authentication-Results: smtp.subspace.kernel.org; arc=none smtp.client-ip=62.72.0.81
ARC-Seal:i=1; a=rsa-sha256; d=subspace.kernel.org; s=arc-20240116;
	t=1728925847; cv=none; b=geJTHVCaUUQIocBozHSl7JencoNe+GV/Pn60IPRD7390sVapBcJnnQgDsGyUz/0Az3OkGWCSFEIp+qkS+O3KEoOu5+mP8BykO0Wusx7CU2uVBt4b+5llUCMpkbmWavVTWZ9lEiKPaETDpFz72T+4SuDFwWDG0gfRHdKl0gRKMVE=
ARC-Message-Signature:i=1; a=rsa-sha256; d=subspace.kernel.org;
	s=arc-20240116; t=1728925847; c=relaxed/simple;
	bh=AuvMWx0X7/J5oBemfea+OJVYpJTBVKzQcuJ/lXhVqSQ=;
	h=Date:From:To:cc:Subject:In-Reply-To:Message-ID:References:
	 MIME-Version:Content-Type; b=R3DIBo9tIv21vmy5hrFzkNZFpuymxiOQehIDCnDRloAQp7Hl6YFrHttLgIoRccnfP14jlDbiv2cIyV8OWkIJG8QS0jaKlVExQG+fwk0GRLVCiiDoaljJA1RA7UVZ+aFXD5uRFr+HEpvanK8K0kqRJ3EUAEvxJE6wYzyWbW3QkMs=
ARC-Authentication-Results:i=1; smtp.subspace.kernel.org; dmarc=pass (p=reject dis=none) header.from=gentwo.org; spf=pass smtp.mailfrom=gentwo.org; dkim=pass (1024-bit key) header.d=gentwo.org header.i=@gentwo.org header.b=TZUXH4ff; arc=none smtp.client-ip=62.72.0.81
Authentication-Results: smtp.subspace.kernel.org; dmarc=pass (p=reject dis=none) header.from=gentwo.org
Authentication-Results: smtp.subspace.kernel.org; spf=pass smtp.mailfrom=gentwo.org
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=gentwo.org;
	s=default; t=1728924474;
	bh=AuvMWx0X7/J5oBemfea+OJVYpJTBVKzQcuJ/lXhVqSQ=;
	h=Date:From:To:cc:Subject:In-Reply-To:References:From;
	b=TZUXH4ff2wj3mDeTKNAVGZace1RVXnXq9KfYcTiOMVe8b6Y4GiV5W/a6Iut8poR2e
	 RL/TwoTkODxeCf5FWEx9/RO5st7R1xBYofDJjVt7xGOQgAqTqvREwB+EJHBaUyzflm
	 dDR403TpM2ATL52ETM2zzznNOt5VgF6gIVyOkqsc=
Received: by gentwo.org (Postfix, from userid 1003)
	id 59CE840262; Mon, 14 Oct 2024 09:47:54 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by gentwo.org (Postfix) with ESMTP id 5898B401C9;
	Mon, 14 Oct 2024 09:47:54 -0700 (PDT)
Date: Mon, 14 Oct 2024 09:47:54 -0700 (PDT)
From: "Christoph Lameter (Ampere)" <cl@gentwo.org>
To: Vlastimil Babka <vbabka@suse.cz>
cc: David Rientjes <rientjes@google.com>, "yuan.gao" <yuan.gao@ucloud.cn>, 
    penberg@kernel.org, iamjoonsoo.kim@lge.com, akpm@linux-foundation.org, 
    roman.gushchin@linux.dev, 42.hyeyoo@gmail.com, linux-mm@kvack.org, 
    linux-kernel@vger.kernel.org
Subject: Re: [PATCH v3] mm/slub: Avoid list corruption when removing a slab
 from the full list
In-Reply-To: <7726cccb-78f8-4696-ac7e-57598c35576d@suse.cz>
Message-ID: <ee0543e5-da7c-21ef-ab10-12c06db2cac4@gentwo.org>
References: <20241011102020.58087-1-yuan.gao@ucloud.cn> <c7b03b1e-e000-279d-f845-5808653ac3bf@gentwo.org> <i5vqm2ucpjzfbeteamphorouzoep3qxmh3prq5d76g4sazjarf@d3rfku3r5735> <572f7473-1781-388b-103e-d4382f58f2f9@google.com>
 <7726cccb-78f8-4696-ac7e-57598c35576d@suse.cz>
Precedence: bulk
X-Mailing-List: linux-kernel@vger.kernel.org
List-Id: <linux-kernel.vger.kernel.org>
List-Subscribe: <mailto:linux-kernel+subscribe@vger.kernel.org>
List-Unsubscribe: <mailto:linux-kernel+unsubscribe@vger.kernel.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII

On Mon, 14 Oct 2024, Vlastimil Babka wrote:

> What about:
>
> "Slab disabled due to previous consistency check failure" ?

I think this implies more than we can actually check. We can only check
the metadata generated by SLUB. The consistency check for the object
itself does not exist and would have to be done by the subsystem.


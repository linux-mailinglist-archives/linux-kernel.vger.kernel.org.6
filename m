Return-Path: <linux-kernel+bounces-555310-lists+linux-kernel=lfdr.de@vger.kernel.org>
X-Original-To: lists+linux-kernel@lfdr.de
Delivered-To: lists+linux-kernel@lfdr.de
Received: from ny.mirrors.kernel.org (ny.mirrors.kernel.org [IPv6:2604:1380:45d1:ec00::1])
	by mail.lfdr.de (Postfix) with ESMTPS id 5B01CA5B57D
	for <lists+linux-kernel@lfdr.de>; Tue, 11 Mar 2025 01:53:46 +0100 (CET)
Received: from smtp.subspace.kernel.org (relay.kernel.org [52.25.139.140])
	(using TLSv1.2 with cipher ECDHE-ECDSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by ny.mirrors.kernel.org (Postfix) with ESMTPS id 84FC816F059
	for <lists+linux-kernel@lfdr.de>; Tue, 11 Mar 2025 00:53:45 +0000 (UTC)
Received: from localhost.localdomain (localhost.localdomain [127.0.0.1])
	by smtp.subspace.kernel.org (Postfix) with ESMTP id C1DE51B424F;
	Tue, 11 Mar 2025 00:53:40 +0000 (UTC)
Authentication-Results: smtp.subspace.kernel.org;
	dkim=fail reason="signature verification failed" (1024-bit key) header.d=163.com header.i=@163.com header.b="lY4Lb9ns"
Received: from m16.mail.163.com (m16.mail.163.com [117.135.210.4])
	by smtp.subspace.kernel.org (Postfix) with ESMTP id 913D679EA
	for <linux-kernel@vger.kernel.org>; Tue, 11 Mar 2025 00:53:36 +0000 (UTC)
Authentication-Results: smtp.subspace.kernel.org; arc=none smtp.client-ip=117.135.210.4
ARC-Seal:i=1; a=rsa-sha256; d=subspace.kernel.org; s=arc-20240116;
	t=1741654420; cv=none; b=Qrd4vIFIUlV6i9xAarIbV1kTot5mw8ExJaAX8i2hXhlG904W7Z5/253zNF7unmzoMbEyD/UHek0Bui7tV5i4dYF+uq/u0zmbok1X4upFrbO7Ee6H1yY1CKP54XarpQEEAfWhTp9yC9/TNrVGP+4wIk1edGTvkzyS6lMirSan9Y4=
ARC-Message-Signature:i=1; a=rsa-sha256; d=subspace.kernel.org;
	s=arc-20240116; t=1741654420; c=relaxed/simple;
	bh=KHRQcz6u7jPbTpDVFnTKjWdc8QJmJX0m31KBHViCt70=;
	h=Date:From:To:Cc:Subject:In-Reply-To:References:Content-Type:
	 MIME-Version:Message-ID; b=tODfjWtj2EVdntM2jZvmq5g+07WaF7cJTGMcmjNMq1Zzh3Ywhlp31IyjH6V2klLy6/TJ32izjriFfo07V51/oEgkOTDOSvn+92Mapime6zWfMMtcIiwI43oanlGqTzeMX0+3udytBf/Utj+turVjoPueBOQcbHScUXkYwOlghDE=
ARC-Authentication-Results:i=1; smtp.subspace.kernel.org; dmarc=pass (p=none dis=none) header.from=163.com; spf=pass smtp.mailfrom=163.com; dkim=fail (1024-bit key) header.d=163.com header.i=@163.com header.b=lY4Lb9ns reason="signature verification failed"; arc=none smtp.client-ip=117.135.210.4
Authentication-Results: smtp.subspace.kernel.org; dmarc=pass (p=none dis=none) header.from=163.com
Authentication-Results: smtp.subspace.kernel.org; spf=pass smtp.mailfrom=163.com
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=163.com;
	s=s110527; h=Date:From:Subject:Content-Type:MIME-Version:
	Message-ID; bh=s9iY3SgRKB6srQmwKyQpR70K8gxHWLVabwner/iiHc4=; b=l
	Y4Lb9ns6UjkinEg7ybomWiDQZzqDRaXLmyAIxi88UXcMhDLs7FCIWnM0z7IetRSq
	p0OlbwAsdvLoNf6pltec2XtQYY6jF+SnNdKc6s1uMOs7VME4rJn6lNz2IgMlt2Vt
	Gzd4++czLR1evt7VgmyFF6aw6VGn26hRb/4lrsG7ko=
Received: from andyshrk$163.com ( [58.22.7.114] ) by
 ajax-webmail-wmsvr-40-123 (Coremail) ; Tue, 11 Mar 2025 08:52:31 +0800
 (CST)
Date: Tue, 11 Mar 2025 08:52:31 +0800 (CST)
From: "Andy Yan" <andyshrk@163.com>
To: "Vinod Koul" <vkoul@kernel.org>
Cc: heiko@sntech.de, kishon@kernel.org, sebastian.reichel@collabora.com,
	yubing.zhang@rock-chips.com, dmitry.baryshkov@linaro.org,
	frank.wang@rock-chips.com, linux-arm-kernel@lists.infradead.org,
	linux-kernel@vger.kernel.org, linux-phy@lists.infradead.org,
	linux-rockchip@lists.infradead.org,
	"Andy Yan" <andy.yan@rock-chips.com>
Subject: Re:Re: [PATCH] phy: rockchip: usbdp: Check these parameters only
 when the corresponding set flags are set
X-Priority: 3
X-Mailer: Coremail Webmail Server Version XT5.0.14 build 20240801(9da12a7b)
 Copyright (c) 2002-2025 www.mailtech.cn 163com
In-Reply-To: <Z86UOmPg/UDSBajZ@vaman>
References: <20250306065952.485809-1-andyshrk@163.com>
 <Z86UOmPg/UDSBajZ@vaman>
X-NTES-SC: AL_Qu2fA/qeu0su5yeabelSyjNW+7xfHKv6+qRChMQvQtsqqTHr9T0KcVtuP1XR3//Ga5IHjaerK57zwsKY57HR
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset=UTF-8
Precedence: bulk
X-Mailing-List: linux-kernel@vger.kernel.org
List-Id: <linux-kernel.vger.kernel.org>
List-Subscribe: <mailto:linux-kernel+subscribe@vger.kernel.org>
List-Unsubscribe: <mailto:linux-kernel+unsubscribe@vger.kernel.org>
MIME-Version: 1.0
Message-ID: <1379400c.90c.19582b05f74.Coremail.andyshrk@163.com>
X-Coremail-Locale: zh_CN
X-CM-TRANSID:eygvCgCnbINPic9n4zl7AA--.15549W
X-CM-SenderInfo: 5dqg52xkunqiywtou0bp/xtbB0gwNXmfPgTNCjQAGse
X-Coremail-Antispam: 1U5529EdanIXcx71UUUUU7vcSsGvfC2KfnxnUU==

CkhpIFZpbm9kLAoKQXQgMjAyNS0wMy0xMCAxNToyNjo1MCwgIlZpbm9kIEtvdWwiIDx2a291bEBr
ZXJuZWwub3JnPiB3cm90ZToKPk9uIDA2LTAzLTI1LCAxNDo1OSwgQW5keSBZYW4gd3JvdGU6Cj4+
IEZyb206IEFuZHkgWWFuIDxhbmR5LnlhbkByb2NrLWNoaXBzLmNvbT4KPj4gCj4+IEFjY29yZGlu
ZyBkb2N1bWVudGF0aW9uIG9mIHBoeV9jb25maWd1cmVfb3B0c19kcCwgYXQgdGhlIGNvbmZpZ3Vy
ZQo+PiBzdGFnZSwgd2Ugc2hvdWxkIG9ubHkgdmVyaWZ5L2NvbmZpZ3VyZSB0aGUgbGlua19yYXRl
IHdoZW4gc2V0X3JhdGUKPj4gZmxhZyBpcyBzZXQsIHRoZSBzYW1lIGFwcGxpZXMgdG8gbGFuZXMg
YW5kIHZvbHRhZ2UuCj4+IAo+PiBTbyB3ZSBkbyBpdCBhcyB0aGUgZG9jdW1lbnRhdGlvbiBzYXlz
LCBhbHNvIHJlY29yZCB0aGUgbGluayByYXRlCj4+IGFuZCBsYW5lcyBpbiBwaHkgaW50ZXJuYWwg
Zm9yIHNldF92b2x0YXRlIHN0YWdlLgo+Cj5XaGVuZXZlciB5b3Ugc2F5IGFsc28sIHRoYXQgaXMg
YSBzaWduIHRoYXQgaXQgc2hvdWxkIGJlIGFub3RoZXIgcGF0Y2ghCgpUaGlzIHBhdGNoIGlzIGlu
c3BpcmVkIGJ5IERtaXRyeSdzIHN1Z2dlc3Rpb24gZm9yIERQL2VEUCBkcml2ZXIgd2hpY2ggY2Fs
bHMgcGh5X2NvbmZpZ3VyZVswXVsxXToKdGhlIHBoeSBkcml2ZXIgc2hvdWxkIHNraXAgdGhlIHZh
bHVlcyBmb3Igd2hpY2ggdGhlIC5zZXRfZm9vIGlzbid0IHNldC4gU28gd2Ugc2hvdWxkIG5vdCBz
ZXQgcmF0ZXMgYW5kCmxhbmVzIHdoZW4gd2Ugc2V0X3ZvbHRhdGUsIGJ1dCB0aGUgcmF0ZXMgYW5k
IGxhbmVzIGFyZSBuZWVkZWQgZm9yIHZvbHRhZ2Ugc2V0LCB0aGlzIGlzIHdoeSBJICByZWNvcmQg
CnJhdGVzIGFuZCBsYW5lcyBpbiB0aGlzIHBhdGNoLgpJIGNhbiBzcGxpdCB0aGUgcmVjb3JkIHRv
IGFub3RoZXIgcGF0Y2gsICBidXQgdGhlbiB0aGlzIHBhdGNoIHdpbGwgbm90IHdvcmsgY29ycmVj
dGx5IGl0c2VsZiwgCkknbSBub3Qgc3VyZSBpZiB0aGlzIGlzIHN1aXRhYmxlLgoKClswXWh0dHBz
Oi8vcGF0Y2h3b3JrLmZyZWVkZXNrdG9wLm9yZy9wYXRjaC82Mjk3ODAvP3Nlcmllcz0xNDE4Mjkm
cmV2PTMKWzFdaHR0cHM6Ly9wYXRjaHdvcmsuZnJlZWRlc2t0b3Aub3JnL3BhdGNoLzYzODk2MS8/
c2VyaWVzPTE0NTI4NiZyZXY9MQoKPgo+PiAKPj4gU2lnbmVkLW9mZi1ieTogQW5keSBZYW4gPGFu
ZHkueWFuQHJvY2stY2hpcHMuY29tPgo+PiAtLS0KPj4gCj4+ICBkcml2ZXJzL3BoeS9yb2NrY2hp
cC9waHktcm9ja2NoaXAtdXNiZHAuYyB8IDYzICsrKysrKysrKysrLS0tLS0tLS0tLS0tCj4+ICAx
IGZpbGUgY2hhbmdlZCwgMzEgaW5zZXJ0aW9ucygrKSwgMzIgZGVsZXRpb25zKC0pCj4+IAo+PiBk
aWZmIC0tZ2l0IGEvZHJpdmVycy9waHkvcm9ja2NoaXAvcGh5LXJvY2tjaGlwLXVzYmRwLmMgYi9k
cml2ZXJzL3BoeS9yb2NrY2hpcC9waHktcm9ja2NoaXAtdXNiZHAuYwo+PiBpbmRleCBjMDRjZjY0
ZjhhMzUuLmQxYmJkZjM4MmFhMiAxMDA2NDQKPj4gLS0tIGEvZHJpdmVycy9waHkvcm9ja2NoaXAv
cGh5LXJvY2tjaGlwLXVzYmRwLmMKPj4gKysrIGIvZHJpdmVycy9waHkvcm9ja2NoaXAvcGh5LXJv
Y2tjaGlwLXVzYmRwLmMKPj4gQEAgLTE4Nyw2ICsxODcsOCBAQCBzdHJ1Y3QgcmtfdWRwaHkgewo+
PiAgCXUzMiBkcF9hdXhfZGluX3NlbDsKPj4gIAlib29sIGRwX3NpbmtfaHBkX3NlbDsKPj4gIAli
b29sIGRwX3NpbmtfaHBkX2NmZzsKPj4gKwl1bnNpZ25lZCBpbnQgbGlua19yYXRlOwo+PiArCXVu
c2lnbmVkIGludCBsYW5lczsKPj4gIAl1OCBidzsKPj4gIAlpbnQgaWQ7Cj4+ICAKPj4gQEAgLTEx
MDIsNDIgKzExMDQsMzkgQEAgc3RhdGljIGludCBya191ZHBoeV9kcF9waHlfcG93ZXJfb2ZmKHN0
cnVjdCBwaHkgKnBoeSkKPj4gIAlyZXR1cm4gMDsKPj4gIH0KPj4gIAo+PiAtc3RhdGljIGludCBy
a191ZHBoeV9kcF9waHlfdmVyaWZ5X2xpbmtfcmF0ZSh1bnNpZ25lZCBpbnQgbGlua19yYXRlKQo+
PiAtewo+PiAtCXN3aXRjaCAobGlua19yYXRlKSB7Cj4+IC0JY2FzZSAxNjIwOgo+PiAtCWNhc2Ug
MjcwMDoKPj4gLQljYXNlIDU0MDA6Cj4+IC0JY2FzZSA4MTAwOgo+PiAtCQlicmVhazsKPj4gLQo+
PiAtCWRlZmF1bHQ6Cj4+IC0JCXJldHVybiAtRUlOVkFMOwo+PiAtCX0KPj4gLQo+PiAtCXJldHVy
biAwOwo+PiAtfQo+PiAtCj4+ICBzdGF0aWMgaW50IHJrX3VkcGh5X2RwX3BoeV92ZXJpZnlfY29u
ZmlnKHN0cnVjdCBya191ZHBoeSAqdWRwaHksCj4+ICAJCQkJCSBzdHJ1Y3QgcGh5X2NvbmZpZ3Vy
ZV9vcHRzX2RwICpkcCkKPj4gIHsKPj4gLQlpbnQgaSwgcmV0Owo+PiArCWludCBpOwo+PiAgCj4+
IC0JLyogSWYgY2hhbmdpbmcgbGluayByYXRlIHdhcyByZXF1aXJlZCwgdmVyaWZ5IGl0J3Mgc3Vw
cG9ydGVkLiAqLwo+PiAtCXJldCA9IHJrX3VkcGh5X2RwX3BoeV92ZXJpZnlfbGlua19yYXRlKGRw
LT5saW5rX3JhdGUpOwo+PiAtCWlmIChyZXQpCj4+IC0JCXJldHVybiByZXQ7Cj4+ICsJLyogVmVy
aWZ5IGxpbmsgcmF0ZS4gKi8KPj4gKwlpZiAoZHAtPnNldF9yYXRlKSB7Cj4+ICsJCXN3aXRjaCAo
ZHAtPmxpbmtfcmF0ZSkgewo+PiArCQljYXNlIDE2MjA6Cj4+ICsJCWNhc2UgMjcwMDoKPj4gKwkJ
Y2FzZSA1NDAwOgo+PiArCQljYXNlIDgxMDA6Cj4+ICsJCQl1ZHBoeS0+bGlua19yYXRlID0gZHAt
PmxpbmtfcmF0ZTsKPj4gKwkJCWJyZWFrOwo+PiArCj4+ICsJCWRlZmF1bHQ6Cj4+ICsJCQlyZXR1
cm4gLUVJTlZBTDsKPj4gKwkJfQo+Cj53aHkgZHJvcCBoZWxwZXI/IFdoeSBub3Qgc2V0IHRoZSBy
YXRlIG9uIHN1Y2Nlc3M/CgpJIGRyb3AgaGVscGVyIGp1c3QgYmVjYXVzZSB0aGUgZmxvd2luZyBj
aGVjayBmb3IgbGFuZXMgYW5kIHZvdGFnZXMgZG9uJ3QgCmhhdmUgaGVscGVyLgpUaGUgcmF0ZSBp
cyBzZXQgaW4gcmtfdWRwaHlfZHBfcGh5X2NvbmZpZ3VyZS4KPgo+PiArCX0KPj4gIAo+PiAgCS8q
IFZlcmlmeSBsYW5lIGNvdW50LiAqLwo+PiAtCXN3aXRjaCAoZHAtPmxhbmVzKSB7Cj4+IC0JY2Fz
ZSAxOgo+PiAtCWNhc2UgMjoKPj4gLQljYXNlIDQ6Cj4+IC0JCS8qIHZhbGlkIGxhbmUgY291bnQu
ICovCj4+IC0JCWJyZWFrOwo+PiArCWlmIChkcC0+c2V0X2xhbmVzKSB7Cj4+ICsJCXN3aXRjaCAo
ZHAtPmxhbmVzKSB7Cj4+ICsJCWNhc2UgMToKPj4gKwkJY2FzZSAyOgo+PiArCQljYXNlIDQ6Cj4+
ICsJCQkvKiB2YWxpZCBsYW5lIGNvdW50LiAqLwo+PiArCQkJdWRwaHktPmxhbmVzID0gZHAtPmxh
bmVzOwo+PiArCQkJYnJlYWs7Cj4+ICAKPj4gLQlkZWZhdWx0Ogo+PiAtCQlyZXR1cm4gLUVJTlZB
TDsKPj4gKwkJZGVmYXVsdDoKPj4gKwkJCXJldHVybiAtRUlOVkFMOwo+PiArCQl9Cj4KPmFub3Ro
ZXIgY2hhbmdlIHdoZXJlIGhlbHBlciB3b3VsZCBoYXZlIG1hZGUgdGhpcyBsb29rIGJldHRlcgoK
CkRvIHlvdSBtZWFuIHdlIHNob3VsZCBkbyBpdCBsaWtlIHRoaXM6CgpzdGF0aWMgaW50IHJrX3Vk
cGh5X2RwX3BoeV9jb25maWd1cmUoc3RydWN0IHBoeSAqcGh5LAogICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgdW5pb24gcGh5X2NvbmZpZ3VyZV9vcHRzICpvcHRzKQp7CiAgICAg
ICAgc3RydWN0IHJrX3VkcGh5ICp1ZHBoeSA9IHBoeV9nZXRfZHJ2ZGF0YShwaHkpOwogICAgICAg
IHN0cnVjdCBwaHlfY29uZmlndXJlX29wdHNfZHAgKmRwID0gJm9wdHMtPmRwOwogICAgICAgIHUz
MiBpLCB2YWwsIGxhbmU7CiAgICAgICAgaW50IHJldDsKCiAgICAgICAuLi4uLi4uLi4uLi4uCiAg
ICAgIGlmIChkcC0+c2V0X3JhdGUpCiAgICAgICAgICAgCXJldCA9IHJrX3VkcGh5X2RwX3BoeV92
ZXJpZnlfbGlua19yYXRlKGRwLT5saW5rX3JhdGUpOwogICAgIGlmIChkcC0+c2V0X2xhbmVzKQog
ICAgICAgICAgICAgICAgcmV0ID0gcmtfdWRwaHlfZHBfcGh5X3ZlcmlmeV9saW5rX2xhbmVzKGRw
LT5sYW5lcyk7CiAgICAgaWYgKGRwLT5zZXRfdm9sdGF0ZXMpCiAgICAgICAgICAgICAgIHJldCA9
IHJrX3VkcGh5X2RwX3BoeV92ZXJpZnlfbGlua192b2x0YXRlKGRwLT52b2x0YXRlKTsKCgpBZGQg
aGVscGVyIGZvciBlYWNoIG9mIHRoZW0gPwogICAgICAKCgo+Cj4+ICAJfQo+PiAgCj4+ICAJLyoK
Pj4gQEAgLTExNDYsNyArMTE0NSw3IEBAIHN0YXRpYyBpbnQgcmtfdWRwaHlfZHBfcGh5X3Zlcmlm
eV9jb25maWcoc3RydWN0IHJrX3VkcGh5ICp1ZHBoeSwKPj4gIAkgKi8KPj4gIAlpZiAoZHAtPnNl
dF92b2x0YWdlcykgewo+PiAgCQkvKiBMYW5lIGNvdW50IHZlcmlmaWVkIHByZXZpb3VzbHkuICov
Cj4+IC0JCWZvciAoaSA9IDA7IGkgPCBkcC0+bGFuZXM7IGkrKykgewo+PiArCQlmb3IgKGkgPSAw
OyBpIDwgdWRwaHktPmxhbmVzOyBpKyspIHsKPj4gIAkJCWlmIChkcC0+dm9sdGFnZVtpXSA+IDMg
fHwgZHAtPnByZVtpXSA+IDMpCj4+ICAJCQkJcmV0dXJuIC1FSU5WQUw7Cj4+ICAKPj4gQEAgLTEy
NDMsOSArMTI0Miw5IEBAIHN0YXRpYyBpbnQgcmtfdWRwaHlfZHBfcGh5X2NvbmZpZ3VyZShzdHJ1
Y3QgcGh5ICpwaHksCj4+ICAJfQo+PiAgCj4+ICAJaWYgKGRwLT5zZXRfdm9sdGFnZXMpIHsKPj4g
LQkJZm9yIChpID0gMDsgaSA8IGRwLT5sYW5lczsgaSsrKSB7Cj4+ICsJCWZvciAoaSA9IDA7IGkg
PCB1ZHBoeS0+bGFuZXM7IGkrKykgewo+PiAgCQkJbGFuZSA9IHVkcGh5LT5kcF9sYW5lX3NlbFtp
XTsKPj4gLQkJCXN3aXRjaCAoZHAtPmxpbmtfcmF0ZSkgewo+PiArCQkJc3dpdGNoICh1ZHBoeS0+
bGlua19yYXRlKSB7Cj4+ICAJCQljYXNlIDE2MjA6Cj4+ICAJCQljYXNlIDI3MDA6Cj4+ICAJCQkJ
cmVnbWFwX3VwZGF0ZV9iaXRzKHVkcGh5LT5wbWFfcmVnbWFwLAo+PiAtLSAKPj4gMi4zNC4xCj4K
Pi0tIAo+flZpbm9kCj4KPl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fCj5MaW51eC1yb2NrY2hpcCBtYWlsaW5nIGxpc3QKPkxpbnV4LXJvY2tjaGlwQGxpc3Rz
LmluZnJhZGVhZC5vcmcKPmh0dHA6Ly9saXN0cy5pbmZyYWRlYWQub3JnL21haWxtYW4vbGlzdGlu
Zm8vbGludXgtcm9ja2NoaXAK

